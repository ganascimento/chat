(this.webpackJsonpchatweb=this.webpackJsonpchatweb||[]).push([[0],{101:function(e,n,t){e.exports=t(154)},127:function(e,n,t){},154:function(e,n,t){"use strict";t.r(n);var a,r=t(0),i=t.n(r),c=t(20),o=t.n(c),u=t(14),l=t(52),d=t(19),s=t(40),f=t(94),p=t(7);!function(e){e.LoadSuccess="LOAD_SUCCESS_USER",e.LoadFailure="LOAD_FAILURE_USER",e.LoadRequest="LOAD_REQUEST_USER",e.LoginRequest="LOGIN_REQUEST_USER",e.RegisterRequest="REGISTER_REQUEST_USER",e.RegisterFailure="REGISTER_FAILURE_USER",e.ResetState="RESET_STATE_USER"}(a||(a={}));var b,v={authenticated:!1,fail:!1,loading:!1,data:void 0,registerError:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a.LoadFailure:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!1,authenticated:!1,fail:!0,registerError:!1});case a.LoadSuccess:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,authenticated:!0,fail:!1,registerError:!1});case a.LoadRequest:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!0,authenticated:!1,fail:!1,registerError:!1});case a.LoginRequest:case a.RegisterRequest:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!0,authenticated:!1,fail:!1,registerError:!1});case a.RegisterFailure:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!1,authenticated:!1,fail:!1,registerError:!0});case a.ResetState:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!1,authenticated:!1,fail:!1,registerError:!1});default:return e}};!function(e){e.LoadSuccess="LOAD_SUCCESS_FRIEND",e.LoadFailure="LOAD_FAILURE_FRIEND",e.LoadRequest="LOAD_REQUEST_FRIEND"}(b||(b={}));var m,h={loading:!1,fail:!1,data:void 0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b.LoadSuccess:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,fail:!1});case b.LoadFailure:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!1,fail:!0});case b.LoadRequest:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!0,fail:!1});default:return e}};!function(e){e.LoadSuccess="LOAD_SUCCESS_TALK",e.LoadFailure="LOAD_FAILURE_TALK",e.LoadRequest="LOAD_REQUEST_TALK",e.SetTalk="SET_TALK"}(m||(m={}));var j,E={loading:!1,fail:!1,completed:!1,data:void 0},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m.LoadSuccess:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,fail:!1,completed:!0});case m.LoadFailure:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,fail:!0,completed:!1});case m.LoadRequest:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!0,fail:!1,completed:!1});case m.SetTalk:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload});default:return e}};!function(e){e.LoadSuccess="LOAD_SUCCESS_INVITE",e.LoadSuccessInvites="LOAD_SUCCESS_INVITES",e.LoadFailure="LOAD_FAILURE_INVITE",e.LoadRequest="LOAD_REQUEST_INVITE",e.SetPersons="SET_PERSON_INVITES",e.SetInvitation="SET_INVITES"}(j||(j={}));var w,y={loading:!1,fail:!1,data:void 0,invites:void 0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case j.LoadSuccess:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,fail:!1});case j.LoadFailure:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!1,fail:!0});case j.LoadRequest:return Object(p.a)(Object(p.a)({},e),{},{data:void 0,loading:!0,fail:!1});case j.SetPersons:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload,loading:!1,fail:!1});case j.LoadSuccessInvites:return Object(p.a)(Object(p.a)({},e),{},{invites:n.payload,loading:!1,fail:!1});case j.SetInvitation:return Object(p.a)(Object(p.a)({},e),{},{invites:n.invitation,loading:!1,fail:!1});default:return e}};!function(e){e.SetSelectTalk="SET_SELECTED_TALK"}(w||(w={}));var k={data:void 0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w.SetSelectTalk:return Object(p.a)(Object(p.a)({},e),{},{data:n.payload});default:return e}},L=Object(s.c)({user:g,friend:O,talk:x,invite:S,selectedTalk:R}),T=t(21),I=t.n(T),A=t(17),C=t(58),F=t(85),_="GA_CHAT_WEB:JWT_TOKEN:AUTH",D="GA_CHAT_WEB:AUTHORIZATION:AUTH",z=function(){var e=!1;if(null!==localStorage.getItem(_))try{var n=localStorage.getItem("GA_CHAT_WEB_JWT_TOKEN:EXPIRATION");if(n)Date.parse(n)>Date.parse((new Date).toString())?e=!0:M()}catch(t){}return e},U=function(){return localStorage.getItem(_)},q=function(e,n){localStorage.setItem(_,e),localStorage.setItem("GA_CHAT_WEB_JWT_TOKEN:EXPIRATION",n)},M=function(){localStorage.removeItem(_)},N=t.n(F).a.create({baseURL:"http://www.gadev.com.br/chat_api/"});N.interceptors.request.use(function(){var e=Object(C.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=U())&&(n.headers.Authorization="Bearer ".concat(t)),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var P=N,H=I.a.mark(Q),G=I.a.mark(V),B=I.a.mark(J),K=I.a.mark(W);function Q(e){var n,t;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=e.payload,r.next=4,Object(A.b)(P.post,"/account/login",{Email:n.email,Password:n.password});case 4:return t=r.sent,q(t.data.accessToken,t.data.expiration),r.next=8,W();case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(A.c)({type:a.LoadFailure});case 14:case"end":return r.stop()}}),H,null,[[0,10]])}function V(e){var n,t;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=e.payload,r.next=4,Object(A.b)(P.post,"/account/register",{Email:n.email,Password:n.password,Name:n.name,Avatar:n.avatar});case 4:return t=r.sent,q(t.data.accessToken,t.data.expiration),r.next=8,W();case 8:r.next=19;break;case 10:if(r.prev=10,r.t0=r.catch(0),403!==r.t0.response.status){r.next=17;break}return r.next=15,Object(A.c)({type:a.RegisterFailure});case 15:r.next=19;break;case 17:return r.next=19,Object(A.c)({type:a.LoadFailure});case 19:case"end":return r.stop()}}),G,null,[[0,10]])}function J(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(A.c)({type:a.LoadFailure});case 9:case"end":return e.stop()}}),B,null,[[0,5]])}function W(){var e,n,t,r,i;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(A.b)(P.get,"/account");case 2:return e=c.sent,n={id:e.data.id,email:e.data.email,name:e.data.name,avatar:e.data.avatar?"data:image/png;base64,".concat(e.data.avatar):void 0},c.next=6,Object(A.b)(P.get,"app/init");case 6:return e=c.sent,t=[],r=[],i=[],e.data.friends.forEach((function(e){e.avatar=e.avatar?"data:image/png;base64,".concat(e.avatar):void 0,t.push(e)})),e.data.chats.forEach((function(e){r.push(e)})),e.data.invitations.forEach((function(n){e.data.usersInvitations.forEach((function(e){n.userSentId===e.id&&(e.avatar=e.avatar?"data:image/png;base64,".concat(e.avatar):void 0,i.push({id:n.id,userSentId:n.userSentId,person:e}))}))})),c.next=15,Object(A.c)({type:b.LoadSuccess,payload:t});case 15:return c.next=17,Object(A.c)({type:m.LoadSuccess,payload:r});case 17:return c.next=19,Object(A.c)({type:a.LoadSuccess,payload:n});case 19:return c.next=21,Object(A.c)({type:j.LoadSuccessInvites,payload:i});case 21:case"end":return c.stop()}}),K)}var Z=I.a.mark($);function $(e){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=[],t.next=4,Object(A.b)(P.get,"app/user/".concat(e.search));case 4:return t.sent.data.forEach((function(e){n.push({id:e.id,name:e.name,avatar:e.avatar,ehSent:!1})})),t.next=8,Object(A.c)({type:j.LoadSuccess,payload:n});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(A.c)({type:j.LoadFailure});case 14:case"end":return t.stop()}}),Z,null,[[0,10]])}var X=I.a.mark(Y);function Y(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.d)(a.LoginRequest,Q),Object(A.d)(a.LoadRequest,J),Object(A.d)(a.RegisterRequest,V),Object(A.d)(j.LoadRequest,$)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),X)}var ee=Object(f.a)(),ne=Object(s.e)(L,Object(s.a)(ee));ee.run(Y);var te=ne,ae=(t(127),t(38)),re=function(e){var n=e.component,t=Object(ae.a)(e,["component"]);return i.a.createElement(d.b,Object.assign({},t,{render:function(e){return z()?i.a.createElement(n,e):i.a.createElement(d.a,{to:{pathname:"/chat",state:{from:e.location}}})}}))},ie=t(10),ce=t(48),oe=t.n(ce),ue=t(30),le=t(86),de=t(92),se=function(){function e(){Object(ue.a)(this,e)}return Object(le.a)(e,null,[{key:"Start",value:function(){this.connection.start()}},{key:"Stop",value:function(){this.connection.stop()}}]),e}();se.connection=(new de.a).withUrl("http://www.gadev.com.br/chat_api/chat",{accessTokenFactory:function(){return U()}}).build();var fe=se,pe=function e(n){var t=this;Object(ue.a)(this,e),this.dispatch=void 0,this.loadRequest=function(){return t.dispatch({type:a.LoadRequest,payload:void 0})},this.loginRequest=function(e){return t.dispatch({type:a.LoginRequest,payload:e})},this.registerRequest=function(e){return t.dispatch({type:a.RegisterRequest,payload:e})},this.resetState=function(){return t.dispatch({type:a.ResetState})},this.dispatch=n},be=function e(n){var t=this;Object(ue.a)(this,e),this.dispatch=void 0,this.setTalk=function(e){return t.dispatch({type:m.SetTalk,payload:e})},this.dispatch=n},ve=function e(n){var t=this;Object(ue.a)(this,e),this.dispatch=void 0,this.loadRequest=function(e){return t.dispatch({type:j.LoadRequest,search:e})},this.setPersons=function(e){return t.dispatch({type:j.SetPersons,payload:e})},this.setInvites=function(e){return t.dispatch({type:j.SetInvitation,invitation:e})},this.dispatch=n},ge=function e(n){var t=this;Object(ue.a)(this,e),this.dispatch=void 0,this.loadRequest=function(){return t.dispatch({type:b.LoadRequest,payload:void 0})},this.setFriends=function(e){return t.dispatch({type:b.LoadSuccess,payload:e})},this.dispatch=n},me=function e(n){var t=this;Object(ue.a)(this,e),this.dispatch=void 0,this.setTalk=function(e){return t.dispatch({type:w.SetSelectTalk,payload:e})},this.dispatch=n},he=t(12),Oe=t(3),je=t(4),Ee=t(26);function xe(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: dodgerblue;\n    margin-right: 7%;\n    width: 20px;\n    height: 20px;\n    border-radius: 20px;\n    font-size: 13px;\n    color: white;\n    font-weight: bold;\n"]);return xe=function(){return e},e}function we(){var e=Object(Oe.a)(["\n    color: rgb(150,170,225);\n    margin-right: 5px;\n"]);return we=function(){return e},e}function ye(){var e=Object(Oe.a)(["\n    font-size: 13px;\n    margin-top: 5px;\n"]);return ye=function(){return e},e}function Se(){var e=Object(Oe.a)(["\n    display: block;\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin: 0;\n    padding: 0;    \n"]);return Se=function(){return e},e}function ke(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    flex-direction: column;\n    margin-left: 15px;\n    width: calc(100% - 85px);\n"]);return ke=function(){return e},e}function Re(){var e=Object(Oe.a)(["\n    color: rgb(160,160,170);\n    font-size: 18px;\n"]);return Re=function(){return e},e}function Le(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 50px;\n    width: 50px;\n    border: 0.5px solid rgb(190,190,190);\n    border-radius: 50px;\n    margin-left: 15px;\n"]);return Le=function(){return e},e}function Te(){var e=Object(Oe.a)(["\n    width: 86%;\n    display: flex;\n    align-items: center;\n"]);return Te=function(){return e},e}function Ie(){var e=Object(Oe.a)(["\n    width: 100%;\n    height: 70px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-bottom: 0.5px solid rgba(200,200,200,.4);\n    cursor:pointer;\n    &:hover {\n        background-color: rgba(230,230,230);\n    }\n"]);return Ie=function(){return e},e}var Ae=je.a.div(Ie()),Ce=je.a.div(Te()),Fe=je.a.div(Le()),_e=Object(je.a)(Ee.a)(Re()),De=je.a.div(ke()),ze=je.a.p(Se()),Ue=Object(je.a)(ze)(ye()),qe=Object(je.a)(Ee.a)(we()),Me=je.a.div(xe());function Ne(){var e=Object(Oe.a)(["\n    padding:0;\n    margin:0;\n    width: 85%;\n    margin-left: 7.5%;\n    color: #FFBC40;\n    font-size: 14px;\n"]);return Ne=function(){return e},e}function Pe(){var e=Object(Oe.a)(["\n    width: 82%;\n    border: none;\n    font-size: 15px;\n    padding-left: 8px;\n    &:focus {\n        outline: none;\n    }\n"]);return Pe=function(){return e},e}function He(){var e=Object(Oe.a)(["\n    width: 85%;\n    display: flex;\n    border: 1px solid white;\n    border-radius: 5px;\n    margin: auto;\n    margin-top: 15px;\n"]);return He=function(){return e},e}function Ge(){var e=Object(Oe.a)(["\n    color: rgba(255,255,255,0.9);\n    font-size: 40px;\n"]);return Ge=function(){return e},e}function Be(){var e=Object(Oe.a)(["\n    color: rgb(255,80,60);\n    animation: "," 1s;\n"]);return Be=function(){return e},e}function Ke(){var e=Object(Oe.a)(["\n    0% { transform: rotate(20deg) }\n    20% { transform: rotate(-20deg) }\n    40% { transform: rotate(20deg) }\n    60% { transform: rotate(-20deg) }\n    80% { transform: rotate(20deg) }\n    100% { transform: rotate(0deg) }\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(Oe.a)(["\n    width: 18%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding-top: 12px;\n    padding-bottom: 12px;\n"]);return Qe=function(){return e},e}function Ve(){var e=Object(Oe.a)(["\n    display: block;\n    border: 1px solid white;\n    color: white;\n    font-weight: bold;\n    margin: auto;\n    margin-top: 10px;\n    text-align: center;\n    width: 85%;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-radius: 5px;\n    font-size: 14px;\n    cursor: pointer;\n    background-color: rgba(255,255,255,0.15);\n    &:hover {\n        background-color: rgba(255,255,255,0.5);\n    }\n    &:focus {\n        outline: none;\n    }\n"]);return Ve=function(){return e},e}function Je(){var e=Object(Oe.a)(["\n    display: block;\n    border: 1px solid white;\n    color: white;\n    font-weight: bold;\n    margin: auto;\n    margin-top: 25px;\n    text-align: center;\n    width: 85%;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    border-radius: 5px;\n    font-size: 14px;\n    cursor: pointer;\n    background-color: rgba(255,255,255,0.15);\n    &:hover {\n        background-color: rgba(255,255,255,0.5);\n    }\n    &:focus {\n        outline: none;\n    }\n"]);return Je=function(){return e},e}function We(){var e=Object(Oe.a)(["\n    width: 128px;\n    height: 1px;\n    background-color: white;\n    margin-top: -30px;\n    margin-bottom: 5px;\n"]);return We=function(){return e},e}function Ze(){var e=Object(Oe.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(Oe.a)(["\n    color: white;\n"]);return $e=function(){return e},e}function Xe(){var e=Object(Oe.a)(["\n    &:hover {\n        background-color: rgb(230,230,230);\n        cursor: pointer;\n    }\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(Oe.a)(["\n    height: 55px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-bottom: 1px solid rgba(200,200,220,.9);\n"]);return Ye=function(){return e},e}function en(){var e=Object(Oe.a)(["\n    background-color: rgb(80,140,190);\n    height: 60px;\n    color: white;\n    display: flex;\n    align-items: center;\n    padding-left: 10px;\n    font-size: 22px;\n"]);return en=function(){return e},e}function nn(){var e=Object(Oe.a)(["\n    &:hover {\n        cursor: pointer;\n    }\n"]);return nn=function(){return e},e}function tn(){var e=Object(Oe.a)(["\n    height: 100%;\n    width: 100%;\n    border-radius: 100px;\n"]);return tn=function(){return e},e}function an(){var e=Object(Oe.a)(["\n    color: white;\n    font-size: 22px;\n"]);return an=function(){return e},e}function rn(){var e=Object(Oe.a)(["\n    width: 45px;\n    height: 45px;\n    border: 1px solid rgba(255,255,255,.8);\n    border-radius: 45px;\n    margin-left: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return rn=function(){return e},e}function cn(){var e=Object(Oe.a)(["\n    display: block;\n    padding: 10px;\n    padding-left: 12px;\n    padding-right: 12px;\n    border-radius: 50px;\n    margin-right: 15px;\n    cursor:pointer;\n    &:hover {\n        background-color: rgba(255,255,255,.4);\n    }\n"]);return cn=function(){return e},e}var on=Object(je.a)(Ee.a)(cn()),un=je.a.div(rn()),ln=Object(je.a)(Ee.a)(an()),dn=je.a.img(tn()),sn=Object(je.a)(dn)(nn()),fn=je.a.div(en()),pn=je.a.div(Ye()),bn=Object(je.a)(pn)(Xe()),vn=Object(je.a)(Ee.a)($e()),gn=je.a.div(Ze()),mn=je.a.div(We()),hn=je.a.input(Je()),On=je.a.a(Ve()),jn=je.a.div(Qe()),En=Object(je.b)(Ke()),xn=Object(je.a)(Ee.a)(Be(),En),wn=Object(je.a)(Ee.a)(Ge()),yn=je.a.div(He()),Sn=je.a.input(Pe()),kn=je.a.div(Ne()),Rn=function(e){var n=e.checkPending(e.id);return i.a.createElement(Ae,{onClick:function(){e.handleSetTalk(e.id)}},i.a.createElement(Ce,null,i.a.createElement(Fe,null,e.avatar?i.a.createElement(dn,{src:e.avatar}):i.a.createElement(_e,{icon:he.j})),i.a.createElement(De,null,i.a.createElement(ze,null,e.name),i.a.createElement(Ue,null,e.checkOwner(e.id)?i.a.createElement(qe,{icon:he.c}):null,e.lastMessage?e.lastMessage:null))),n>0?i.a.createElement(Me,null,n<=9?n:"9+"):null)};function Ln(){var e=Object(Oe.a)(["\n    background-color: rgb(135,206,255);\n    float: right;\n    margin-right: 20px;\n    border-radius: 10px 0px 10px 10px;\n"]);return Ln=function(){return e},e}function Tn(){var e=Object(Oe.a)(["\n    background-color: rgb(240,240,255);\n    float: left;\n    margin-left: 20px;\n    border-radius: 0px 10px 10px 10px;\n"]);return Tn=function(){return e},e}function In(){var e=Object(Oe.a)(["\n    max-width: 65%;\n    word-break: break-all;\n    box-shadow: 1px 2px 3px rgb(100,100,120);\n    padding: 8px;\n    padding-left: 12px;\n    padding-right: 10px;\n    margin-top: 12px;\n"]);return In=function(){return e},e}var An=je.a.div(In()),Cn=Object(je.a)(An)(Tn()),Fn=Object(je.a)(An)(Ln()),_n=function(e){return i.a.createElement("div",null,e.sent?i.a.createElement(Fn,null,e.text):i.a.createElement(Cn,null,e.text))},Dn=t(185);function zn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(30,144,225);\n    width: 50px;\n    height: 50px;\n    border-radius: 50px;\n    cursor: pointer;\n    &:hover {\n        background-color: rgba(30,144,255,0.6);\n    }\n"]);return zn=function(){return e},e}function Un(){var e=Object(Oe.a)(["\n    font-family: 'Quicksand';\n    width: 85%;\n    font-size: 16px;\n    padding: 7px;\n    padding-left: 12px;\n    padding-right: 12px;\n    border-radius: 30px;\n    border: none;\n    &:focus {\n        outline: none;\n    }\n"]);return Un=function(){return e},e}function qn(){var e=Object(Oe.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    background-color: rgba(186,206,232);\n"]);return qn=function(){return e},e}var Mn=je.a.div(qn()),Nn=je.a.input(Un()),Pn=je.a.a(zn()),Hn=function(e){var n=Object(r.useState)(""),t=Object(ie.a)(n,2),a=t[0],c=t[1],o=Object(u.c)((function(e){return e.user})),l=Object(u.c)((function(e){return e.talk})),d=Object(u.b)(),s=new be(d),f=function(){var n,t,r,i;if(null!==a&&""!==a.trim()){var u={ehSent:!0,id:0,pending:!0,text:a,sendDate:new Date};null===(n=e.selectedTalk.data)||void 0===n||n.messages.push(u),s.setTalk(l.data),fe.connection.invoke("SendMessage",{UserSentId:null===(t=o.data)||void 0===t?void 0:t.id,ConversationId:null===(r=e.selectedTalk.data)||void 0===r?void 0:r.conversationId,Text:a,Pending:!0,SendDate:Object(Dn.a)(Date.now(),"yyyy-MM-dd hh:mm:ss").replace(" ","T")},null===(i=e.selectedTalk.data)||void 0===i?void 0:i.friendId),c("")}};return i.a.createElement(Mn,null,i.a.createElement(Nn,{value:a,onChange:function(e){c(e.currentTarget.value)},onKeyDown:function(e){13===e.keyCode&&f()}}),i.a.createElement(Pn,{onClick:f},i.a.createElement(vn,{icon:he.f})))};function Gn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 15px;\n"]);return Gn=function(){return e},e}function Bn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    color: rgb(110,110,110);\n    margin-top: 15px;\n"]);return Bn=function(){return e},e}function Kn(){var e=Object(Oe.a)(["\n    margin-top: 15px;\n    border-top: 1px solid rgba(200,200,220,.9);\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #1E90FF;\n    width: 37px;\n    height: 37px;\n    border-radius: 37px;\n    cursor: pointer;\n    &:hover {\n        background-color: rgba(30,144,255,0.6);\n    }\n"]);return Qn=function(){return e},e}function Vn(){var e=Object(Oe.a)(["\n    font-family: 'Quicksand';\n    width: 75%;\n    font-size: 14px;\n    padding: 7px;\n    padding-left: 12px;\n    padding-right: 12px;\n    border-radius: 30px;\n    border: none;\n    &:focus {\n        outline: none;\n    }\n"]);return Vn=function(){return e},e}function Jn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    margin-top: 10px;\n"]);return Jn=function(){return e},e}function Wn(){var e=Object(Oe.a)(["\n    width: 15%;\n    height: 35px;\n    background-color: blue;\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    font-size: 14px;\n    cursor: pointer;\n    background-color: rgba(0,0,255,.65);\n    &:hover {\n        background-color: rgba(0,0,255,.85);\n    }\n"]);return Wn=function(){return e},e}function Zn(){var e=Object(Oe.a)(["\n    display: block;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Zn=function(){return e},e}function $n(){var e=Object(Oe.a)(["\n    font-size: 25px;\n    color: rgba(0,0,0,.5);\n"]);return $n=function(){return e},e}function Xn(){var e=Object(Oe.a)(["\n    height: 40px;\n    width: 40px;\n    border: 1px solid rgba(180,180,180,.9);\n    border-radius: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 15px;\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n"]);return Yn=function(){return e},e}function et(){var e=Object(Oe.a)(["\n    border-bottom: 1px solid rgba(180,180,180,.9);\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 20px;\n    font-size: 18px;\n    color: rgba(0,0,0,0.7);\n"]);return et=function(){return e},e}je.a.div(et());var nt=je.a.div(Yn()),tt=je.a.div(Xn()),at=Object(je.a)(Ee.a)($n()),rt=je.a.p(Zn()),it=je.a.a(Wn()),ct=je.a.div(Jn()),ot=je.a.input(Vn()),ut=je.a.a(Qn()),lt=je.a.div(Kn()),dt=je.a.div(Bn()),st=je.a.div(Gn()),ft=function(e){var n,t=Object(r.useState)(""),a=Object(ie.a)(t,2),c=a[0],o=a[1],l=Object(u.c)((function(e){return e.invite})),d=Object(u.c)((function(e){return e.user})),s=Object(u.b)(),f=new ve(s),p=function(e){return i.a.createElement(pn,{key:e.id},i.a.createElement(nt,null,i.a.createElement(tt,null,e.avatar?i.a.createElement(dn,{src:e.avatar}):i.a.createElement(at,{icon:he.j})),i.a.createElement(rt,null,e.name)),e.ehSent?null:i.a.createElement(it,{onClick:function(){!function(e){var n,t;fe.connection.invoke("SendInvite",{Refused:!1,UserReceivedId:e,UserSentId:null===(n=d.data)||void 0===n?void 0:n.id,RequestDate:Object(Dn.a)(Date.now(),"yyyy-MM-dd hh:mm:ss").replace(" ","T")});var a=null===(t=l.data)||void 0===t?void 0:t.map((function(n){return n.id===e&&(n.ehSent=!0),n}));f.setPersons(a)}(e.id)}},"Add"))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(fn,null,i.a.createElement(on,{icon:he.a,onClick:e.toggleMenu}),"Adicionar amigo"),i.a.createElement(ct,null,i.a.createElement(ot,{type:"text",placeholder:"Nome ou e-mail",value:c,onChange:function(e){o(e.currentTarget.value)}}),i.a.createElement(ut,{onClick:function(){null!==c.trim()&&""!==c.trim()&&f.loadRequest(c)}},i.a.createElement(vn,{icon:he.h}))),i.a.createElement(lt,null,l.data||l.loading?l.loading?i.a.createElement(st,null,i.a.createElement(oe.a,{type:"Oval",color:"blue",height:30})):null===(n=l.data)||void 0===n?void 0:n.map((function(e){return p(e)})):i.a.createElement(dt,null,"Nenhum resultado")))};function pt(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32%;\n"]);return pt=function(){return e},e}function bt(){var e=Object(Oe.a)(["\n    background-color: rgb(220,230,245);\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    top: ","%;\n    animation: "," 0.8s;\n"]);return bt=function(){return e},e}function vt(){var e=Object(Oe.a)(["\n    0% { top: 0%; }\n    100% { top: 100%; }\n"]);return vt=function(){return e},e}function gt(){var e=Object(Oe.a)(["\n    0% { top: 100%; }\n    100% { top: 0%; }\n"]);return gt=function(){return e},e}function mt(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    width: 100%;\n"]);return mt=function(){return e},e}function ht(){var e=Object(Oe.a)(["\n    width: 40%;\n    height: 35px;\n    margin-left: 5%;\n    background-color: blue;\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    font-size: 14px;\n    cursor: pointer;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n"]);return ht=function(){return e},e}function Ot(){var e=Object(Oe.a)(["\n    display: block;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(Oe.a)(["\n    font-size: 25px;\n    color: rgba(0,0,0,.5);\n"]);return jt=function(){return e},e}function Et(){var e=Object(Oe.a)(["\n    height: 40px;\n    width: 40px;\n    border: 1px solid rgba(180,180,180,.9);\n    border-radius: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 15px;\n"]);return Et=function(){return e},e}function xt(){var e=Object(Oe.a)(["\n    display: flex;\n    align-items: center;\n"]);return xt=function(){return e},e}function wt(){var e=Object(Oe.a)(["\n    border-bottom: 1px solid rgba(180,180,180,.9);\n    padding-top: 15px;\n    padding-bottom: 15px;\n    padding-left: 20px;\n    font-size: 18px;\n    color: rgba(0,0,0,0.7);\n"]);return wt=function(){return e},e}var yt,St=je.a.div(wt()),kt=je.a.div(xt()),Rt=je.a.div(Et()),Lt=Object(je.a)(Ee.a)(jt()),Tt=je.a.p(Ot()),It=je.a.a(ht(),(function(e){return e.backColor?e.backColor:"rgba(0,0,255,.65)"}),(function(e){return e.backColorHover?e.backColorHover:"rgba(0,0,255,.85)"})),At=je.a.div(mt()),Ct=Object(je.b)(gt()),Ft=Object(je.b)(vt()),_t=je.a.div(bt(),(function(e){return 1===e.start?0:100}),(function(e){return 1===e.start?Ct:2===e.start?Ft:null})),Dt=je.a.div(pt());!function(e){e[e.Default=0]="Default",e[e.Open=1]="Open",e[e.Close=2]="Close"}(yt||(yt={}));var zt=function(e){var n,t,a=Object(u.c)((function(e){return e.friend})),c=Object(u.c)((function(e){return e.invite})),o=Object(r.useState)(yt.Default),l=Object(ie.a)(o,2),d=l[0],s=l[1],f=Object(u.b)(),p=new ve(f),b=function(){d===yt.Default||d===yt.Close?s(yt.Open):d===yt.Open&&s(yt.Close)},v=function(e){fe.connection.invoke("AceptInvite",e),m(e)},g=function(e){fe.connection.invoke("DeclineInvite",e),m(e)},m=function(e){var n,t=null===(n=c.invites)||void 0===n?void 0:n.filter((function(n){if(n.id!==e)return n}));p.setInvites(t)},h=function(n){e.handleSetTalk(n),e.toggleMenu()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(_t,{start:d},i.a.createElement(ft,{toggleMenu:b})),i.a.createElement(fn,null,i.a.createElement(on,{icon:he.a,onClick:e.toggleMenu}),"Amigos",i.a.createElement(At,null,i.a.createElement(on,{icon:he.g,onClick:b}))),c.invites?i.a.createElement(St,null,"Convites"):null,null===(n=c.invites)||void 0===n?void 0:n.map((function(e){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return i.a.createElement(pn,{key:e},i.a.createElement(kt,null,i.a.createElement(Rt,null,t?i.a.createElement(dn,{src:t}):i.a.createElement(Lt,{icon:he.j})),i.a.createElement(Tt,null,n)),i.a.createElement(Dt,null,i.a.createElement(It,{onClick:function(){g(a)},backColor:"rgba(255,0,0,.65)",backColorHover:"rgba(255,0,0,.85)"},"X"),i.a.createElement(It,{onClick:function(){v(a)}},"Add")))}(e.person.id,e.person.name,e.person.avatar,e.id)})),i.a.createElement(St,null,"Amigos"),null===(t=a.data)||void 0===t?void 0:t.map((function(e){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.a.createElement(bn,{key:e,onClick:function(){h(e)}},i.a.createElement(kt,null,i.a.createElement(Rt,null,t?i.a.createElement(dn,{src:t}):i.a.createElement(Lt,{icon:he.j})),i.a.createElement(Tt,null,n)))}(e.id,e.name,e.avatar)})))},Ut=t(187),qt=t(186),Mt=t(184),Nt=t(182),Pt=t(183),Ht=t(181),Gt=t(188),Bt=i.a.forwardRef((function(e,n){return i.a.createElement(Gt.a,Object.assign({direction:"up",ref:n},e))})),Kt=function(e){return i.a.createElement("div",null,i.a.createElement(qt.a,{open:e.openModal,TransitionComponent:Bt,keepMounted:!0,onClose:e.handleOpenModel,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},i.a.createElement(Ht.a,{id:"alert-dialog-slide-title"},"Fazer logout?"),i.a.createElement(Nt.a,null,i.a.createElement(Pt.a,{id:"alert-dialog-slide-description"},"Por favor confirme se quer sair do chat")),i.a.createElement(Mt.a,null,i.a.createElement(Ut.a,{onClick:e.handleLogout,color:"primary"},"Sim"),i.a.createElement(Ut.a,{onClick:e.handleOpenModel,color:"primary"},"N\xe3o"))))};function Qt(){var e=Object(Oe.a)(["\n    display: block;\n    margin-left: 10px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"]);return Qt=function(){return e},e}function Vt(){var e=Object(Oe.a)(["\n    width: 13%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding-top: 15px;\n    padding-bottom: 15px;\n    cursor:pointer;\n    border-radius: 15px;\n    &:hover {\n        background-color: rgba(255,255,255,.2);\n    }\n"]);return Vt=function(){return e},e}function Jt(){var e=Object(Oe.a)(["\n    width: 74%;\n    display: flex;\n    align-items: center;\n    \n"]);return Jt=function(){return e},e}var Wt=je.a.div(Jt()),Zt=je.a.div(Vt()),$t=je.a.p(Qt()),Xt=function(e){var n,t,a,c=Object(r.useState)(!1),o=Object(ie.a)(c,2),l=o[0],s=o[1],f=Object(r.useState)(!1),p=Object(ie.a)(f,2),b=p[0],v=p[1],g=Object(u.c)((function(e){return e.user})),m=function(){s(!l)};return i.a.createElement(i.a.Fragment,null,b?i.a.createElement(d.a,{to:"/chat"}):null,i.a.createElement(Kt,{openModal:l,handleOpenModel:m,handleLogout:function(){M(),v(!0),fe.Stop()}}),i.a.createElement(Wt,null,i.a.createElement(un,null,(null===(n=g.data)||void 0===n?void 0:n.avatar)?i.a.createElement(sn,{src:null===(t=g.data)||void 0===t?void 0:t.avatar,onClick:e.toggleImg}):i.a.createElement(ln,{icon:he.j})),i.a.createElement($t,null,null===(a=g.data)||void 0===a?void 0:a.name)),i.a.createElement(Zt,{onClick:e.toggleMenu},i.a.createElement(Ee.a,{icon:he.k})),i.a.createElement(Zt,{onClick:m},i.a.createElement(Ee.a,{icon:he.i})))};function Yt(){var e=Object(Oe.a)(["\n    box-shadow: 4px 4px 6px rgba(0,0,0,.6)\n"]);return Yt=function(){return e},e}function ea(){var e=Object(Oe.a)(["\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    top:0;\n    left:0;\n    background-color: rgba(0,0,0,.3);\n"]);return ea=function(){return e},e}function na(){var e=Object(Oe.a)(["\n    font-size: 12px;\n    margin: 0;\n    padding: 0;\n    margin-top: 3px;\n"]);return na=function(){return e},e}function ta(){var e=Object(Oe.a)(["\n    margin-left: 10px;\n    align-items: flex-start;\n    flex-direction: column;\n"]);return ta=function(){return e},e}function aa(){var e=Object(Oe.a)(["\n    width: 100%;\n    justify-content: flex-start;\n    margin-left: 10px;\n"]);return aa=function(){return e},e}function ra(){var e=Object(Oe.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,.3);\n    color: white;\n    font-size: 25px;\n"]);return ra=function(){return e},e}function ia(){var e=Object(Oe.a)(["\n    flex-direction: column;\n"]);return ia=function(){return e},e}function ca(){var e=Object(Oe.a)(["\n    color: white;\n    font-size: 22px;\n    margin-bottom: 25px;\n"]);return ca=function(){return e},e}function oa(){var e=Object(Oe.a)(["\n    background-color: rgb(240,240,255);\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: ","%;\n    top: 0;\n    animation: "," 0.8s;\n"]);return oa=function(){return e},e}function ua(){var e=Object(Oe.a)(["\n    0% { left: 0%; }\n    100% { left: -100%; }\n"]);return ua=function(){return e},e}function la(){var e=Object(Oe.a)(["\n    0% { left: -100%; }\n    100% { left: 0%; }\n"]);return la=function(){return e},e}function da(){var e=Object(Oe.a)(["\n    width: 100%;\n    height: 65px;\n"]);return da=function(){return e},e}function sa(){var e=Object(Oe.a)(["\n    width: 100%;\n    height: calc(100% - 125px);\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n"]);return sa=function(){return e},e}function fa(){var e=Object(Oe.a)(["\n    background-color: rgb(70,130,180);\n    width: 100%;\n    height: 60px;\n    box-shadow: ",";\n    color: white;\n    overflow-y: auto;\n"]);return fa=function(){return e},e}function pa(){var e=Object(Oe.a)(["\n    width: 70%;\n    background-color: rgb(235,235,235);\n    @media (max-width: 1020px) {\n        width: 60%;\n    }\n"]);return pa=function(){return e},e}function ba(){var e=Object(Oe.a)(["\n    width: 30%;\n    background-color: rgb(245,245,250);\n    @media (max-width: 1020px) {\n        width: 40%;\n    }\n"]);return ba=function(){return e},e}function va(){var e=Object(Oe.a)(["\n    height: 100%;\n    float: left;\n    position: relative;\n    overflow:hidden;\n"]);return va=function(){return e},e}function ga(){var e=Object(Oe.a)(["\n    height: 92%;\n    width: 1400px;\n    @media (max-width: 1400px) {\n        height: 100%;\n        width: 100%;\n    }\n"]);return ga=function(){return e},e}function ma(){var e=Object(Oe.a)(["\n    height: 100vh;\n    width: 100vw;\n    background-image: linear-gradient(135deg, #EE82EE, #FF00FF, #BA55D3, #8A2BE2, #1E90FF, #0080ff, #0040ff, #0000ff);\n    overflow-x: auto;    \n"]);return ma=function(){return e},e}function ha(){var e=Object(Oe.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ha=function(){return e},e}var Oa,ja=je.a.div(ha()),Ea=Object(je.a)(ja)(ma()),xa=je.a.div(ga()),wa=je.a.div(va()),ya=Object(je.a)(wa)(ba()),Sa=Object(je.a)(wa)(pa()),ka=Object(je.a)(ja)(fa(),(function(e){return e.shadow?e.shadow:null})),Ra=je.a.div(sa()),La=je.a.div(da()),Ta=Object(je.b)(la()),Ia=Object(je.b)(ua()),Aa=je.a.div(oa(),(function(e){return 1===e.start?0:100}),(function(e){return 1===e.start?Ta:2===e.start?Ia:null})),Ca=je.a.div(ca()),Fa=Object(je.a)(ja)(ia()),_a=Object(je.a)(ja)(ra()),Da=Object(je.a)(ja)(aa()),za=Object(je.a)(ja)(ta()),Ua=je.a.p(na()),qa=je.a.div(ea()),Ma=je.a.img(Yt());!function(e){e[e.Default=0]="Default",e[e.Open=1]="Open",e[e.Close=2]="Close"}(Oa||(Oa={}));var Na=function(){var e,n=Object(r.useState)([]),t=Object(ie.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(Oa.Default),l=Object(ie.a)(o,2),d=l[0],s=l[1],f=Object(r.useState)(!0),p=Object(ie.a)(f,2),b=p[0],v=p[1],g=Object(r.useState)(!1),m=Object(ie.a)(g,2),h=m[0],O=m[1],j=Object(r.useState)(!1),E=Object(ie.a)(j,2),x=E[0],w=E[1],y=Object(u.c)((function(e){return e.user})),S=Object(u.c)((function(e){return e.talk})),k=Object(u.c)((function(e){return e.friend})),R=Object(u.c)((function(e){return e.invite})),L=Object(u.c)((function(e){return e.selectedTalk})),T=Object(u.b)(),I=new pe(T),A=new be(T),C=new ve(T),F=new ge(T),_=new me(T),D=null===(e=k.data)||void 0===e?void 0:e.filter((function(e){var n;return e.id===(null===(n=L.data)||void 0===n?void 0:n.friendId)}))[0];Object(r.useEffect)((function(){var e=document.getElementById("ContentMessage");e&&(e.scrollTop=e.scrollHeight)})),Object(r.useEffect)((function(){!y.authenticated&&z()&&I.loadRequest(),fe.Start()}),[]),Object(r.useEffect)((function(){var e,n=[];null===(e=S.data)||void 0===e||e.forEach((function(e){e.messages.length>0&&n.push({id:e.friendId,lastMessage:e.messages[e.messages.length-1].text})})),n=n.map((function(e){var n;return null===(n=k.data)||void 0===n||n.forEach((function(n){e.id===n.id&&(e.name=n.name,e.avatar=n.avatar)})),e})),c(n),S.completed&&b&&(U(),q(),v(!1))}),[S]),Object(r.useEffect)((function(){U()}),[L]);var U=function(){fe.connection.off("ReceivedMessage"),fe.connection.on("ReceivedMessage",(function(e){var n,t,a=S.data,r={ehSent:!1,id:0,pending:(null===(n=L.data)||void 0===n?void 0:n.conversationId)!==e.conversationId,sendDate:e.sendDate,text:e.text};a=null===(t=a)||void 0===t?void 0:t.map((function(n){return n.conversationId===e.conversationId&&n.messages.push(r),n})),A.setTalk(a)}))},q=function(){fe.connection.on("ReceivedInvite",(function(e,n){var t=R.invites?R.invites:[];n.avatar=n.avatar?"data:image/png;base64,".concat(n.avatar):void 0,t.push({id:e.id,userSentId:e.userSentId,person:n}),C.setInvites(t)})),fe.connection.on("NewFriend",(function(e,n){var t=k.data?k.data:[];n.avatar=n.avatar?"data:image/png;base64,".concat(n.avatar):void 0,t.push(n),F.setFriends(t);var a=S.data?S.data:[];a.push({conversationId:e,messages:[],friendId:n.id}),A.setTalk(a)})),fe.connection.on("UserConnected",(function(e){var n,t=null===(n=k.data)||void 0===n?void 0:n.map((function(n){return n.id===e&&(n.isOnline=!0),n}));F.setFriends(t)})),fe.connection.on("UserDesconnected",(function(e){var n,t=null===(n=k.data)||void 0===n?void 0:n.map((function(n){return n.id===e&&(n.isOnline=!1),n}));F.setFriends(t)}))},M=function(){d===Oa.Default||d===Oa.Close?s(Oa.Open):d===Oa.Open&&s(Oa.Close)},N=function(e){var n,t=!1,a=null===(n=S.data)||void 0===n?void 0:n.map((function(e){return e.messages=e.messages.map((function(e){return e.pending&&(e.pending=!1,t=!0),e})),e})),r=null===a||void 0===a?void 0:a.filter((function(n){if(n.friendId===e)return n}))[0];_.setTalk(r),A.setTalk(a),t&&fe.connection.invoke("ViewMessage",null===r||void 0===r?void 0:r.conversationId)},P=function(e){var n,t=null===(n=S.data)||void 0===n?void 0:n.filter((function(n){if(n.friendId===e)return n}))[0];return!!t&&(null===t||void 0===t?void 0:t.messages[(null===t||void 0===t?void 0:t.messages.length)-1].ehSent)},H=function(e){var n,t=null===(n=S.data)||void 0===n?void 0:n.filter((function(n){if(n.friendId===e)return n}))[0];return t&&t.messages?null===t||void 0===t?void 0:t.messages.filter((function(e){if(e.pending&&!e.ehSent)return e})).length:0},G=function(){O(!h)},B=function(){w(!x)};return i.a.createElement(Ea,null,S.completed?function(){var e,n,t;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xa,null,i.a.createElement(ya,null,i.a.createElement(Aa,{start:d},i.a.createElement(zt,{toggleMenu:M,handleSetTalk:N})),i.a.createElement(ka,null,i.a.createElement(Xt,{toggleMenu:M,toggleImg:B})),a.map((function(e){return i.a.createElement(Rn,{key:e.id,id:e.id,name:e.name,lastMessage:e.lastMessage,avatar:e.avatar,handleSetTalk:N,checkOwner:P,checkPending:H})}))),i.a.createElement(Sa,null,L.data?null:i.a.createElement(_a,null,"Nenhuma conversa selecionada"),i.a.createElement(ka,{shadow:"1px 1px 5px rgb(150,150,150)"},L.data?i.a.createElement(Da,null,i.a.createElement(un,null,D&&D.avatar?i.a.createElement(sn,{src:D.avatar,onClick:G}):i.a.createElement(ln,{icon:he.j})),i.a.createElement(za,null,i.a.createElement(i.a.Fragment,null,null===D||void 0===D?void 0:D.name),i.a.createElement("div",null,i.a.createElement(Ua,null,(null===D||void 0===D?void 0:D.isOnline)?"Online":"Offline")))):null),i.a.createElement(Ra,{id:"ContentMessage"},0===(null===(e=L.data)||void 0===e?void 0:e.messages.length)?"":null===(n=L.data)||void 0===n?void 0:n.messages.map((function(e,n){return i.a.createElement(_n,{key:n,sent:e.ehSent,text:e.text})})),i.a.createElement("br",null)),i.a.createElement(La,null,i.a.createElement(Hn,{selectedTalk:L}))),h?i.a.createElement(qa,{onClick:G},i.a.createElement(Ma,{src:null===D||void 0===D?void 0:D.avatar,alt:""})):null,x?i.a.createElement(qa,{onClick:B},i.a.createElement(Ma,{src:null===(t=y.data)||void 0===t?void 0:t.avatar,alt:""})):null))}():i.a.createElement(Fa,null,i.a.createElement(Ca,null,"Carregando..."),i.a.createElement(oe.a,{type:"Oval",color:"white",height:60})))},Pa=(t(153),t(93));function Ha(){var e=Object(Oe.a)(["\n    margin-left: 7.5%;\n    margin-top: 20px;\n    color: rgba(255,255,255,.9);\n"]);return Ha=function(){return e},e}function Ga(){var e=Object(Oe.a)(["\n    width: 100px;\n    height: 100px;\n    border-radius: 100px;\n    border: 1px solid white;   \n    margin: auto;\n    margin-top: -50px;\n    margin-bottom: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ga=function(){return e},e}var Ba=je.a.div(Ga()),Ka=Object(je.a)(Pa.a)(Ha()),Qa=function(e){var n=Object(r.useState)(""),t=Object(ie.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(""),l=Object(ie.a)(o,2),d=l[0],s=l[1],f=Object(r.useState)(!1),p=Object(ie.a)(f,2),b=p[0],v=p[1],g=Object(r.useState)(!1),m=Object(ie.a)(g,2),h=m[0],O=m[1],j=Object(r.useState)(!1),E=Object(ie.a)(j,2),x=E[0],w=E[1],y=Object(u.b)();Object(r.useEffect)((function(){var e=function(){var e=localStorage.getItem(D);return null!==e&&""!==e.trim()?JSON.parse(e):null}();e&&(c(e.login),s(e.password))}),[]);return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=!0;if(!a||a.length<9||!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?(O(!0),n=!1):O(!1),!d||d.length<8||!/^(?=.*\d)(?=.*[a-z])[0-9a-zA-Z!@#$%^&*?]{8,12}$/.test(d)?(w(!0),n=!1):w(!1),n){if(b)!function(e){var n=JSON.stringify(e);localStorage.setItem(D,n)}({login:a,password:d});else localStorage.removeItem(D);new pe(y).loginRequest({email:a,password:d})}}},i.a.createElement(gn,null,i.a.createElement(mn,null),i.a.createElement(Ba,null,i.a.createElement(wn,{icon:he.j})),i.a.createElement(mn,null)),i.a.createElement(yn,null,i.a.createElement(jn,null,h?i.a.createElement(xn,{icon:he.d}):i.a.createElement(vn,{icon:he.d})),i.a.createElement(Sn,{placeholder:"EMAIL",value:a,onChange:function(e){c(e.currentTarget.value)},maxLength:80})),i.a.createElement(yn,null,i.a.createElement(jn,null,x?i.a.createElement(xn,{icon:he.e}):i.a.createElement(vn,{icon:he.e})),i.a.createElement(Sn,{placeholder:"SENHA",type:"password",value:d,onChange:function(e){s(e.currentTarget.value)},maxLength:12})),e.hasError?i.a.createElement(kn,null,"Usu\xe1rio ou senha inv\xe1lidos"):null,i.a.createElement(hn,{type:"submit",value:"LOGIN"}),i.a.createElement(On,{onClick:e.handleFormRegister},"REGISTRAR"),i.a.createElement(Ka,{state:b,onChange:function(){v(!b)}},"Lembrar-me")))};function Va(){var e=Object(Oe.a)(["\n    display:none;\n"]);return Va=function(){return e},e}function Ja(){var e=Object(Oe.a)(["\n    display: block;\n    width: 100px;\n    height: 100px;\n    border-radius: 100px;\n    border: 1px solid white;   \n    margin: auto;\n    margin-top: -50px;\n    margin-bottom: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor:pointer;\n    &:hover {\n        background-color: rgba(255,255,255,0.5)\n    }\n"]);return Ja=function(){return e},e}var Wa=je.a.label(Ja()),Za=je.a.input(Va()),$a=function(e){var n=Object(r.useState)(""),t=Object(ie.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(""),l=Object(ie.a)(o,2),d=l[0],s=l[1],f=Object(r.useState)(""),p=Object(ie.a)(f,2),b=p[0],v=p[1],g=Object(r.useState)(""),m=Object(ie.a)(g,2),h=m[0],O=m[1],j=Object(r.useState)(""),E=Object(ie.a)(j,2),x=E[0],w=E[1],y=Object(r.useState)(!1),S=Object(ie.a)(y,2),k=S[0],R=S[1],L=Object(r.useState)(!1),T=Object(ie.a)(L,2),A=T[0],F=T[1],_=Object(r.useState)(!1),D=Object(ie.a)(_,2),z=D[0],U=D[1],q=Object(r.useState)(!1),M=Object(ie.a)(q,2),N=M[0],P=M[1],H=Object(u.b)(),G=new pe(H);Object(r.useEffect)((function(){e.emailExists&&e.setLength(446)}),[e.emailExists]);var B=function(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){var e;return n(null===(e=a.result)||void 0===e?void 0:e.toString())},a.onerror=function(e){return t(e)}}))},K=function(){var e=Object(C.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(n.target.files[0]);case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:function(n){e.emailExists&&G.resetState(),n.preventDefault();var t=!0,r=0;!a||a.length<9||!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)?(R(!0),t=!1,r++):R(!1),!d||d.length<6?(F(!0),t=!1,r++):F(!1),!b||b.length<8||!/^(?=.*\d)(?=.*[a-z])[0-9a-zA-Z!@#$%^&*?]{8,12}$/.test(b)?(U(!0),t=!1,r++):U(!1),b!==h?(P(!0),t=!1,r++):P(!1),t?(e.setLength(428),G.registerRequest({email:a,password:b,name:d,avatar:x.split(",")[1]})):e.setLength(428+18*r)}},i.a.createElement(gn,null,i.a.createElement(mn,null),i.a.createElement(Wa,{htmlFor:"upload-file"},x?i.a.createElement(dn,{src:x,alt:"fnsfns"}):i.a.createElement(wn,{icon:he.b})),i.a.createElement(mn,null)),i.a.createElement(Za,{type:"file",id:"upload-file",onChange:K,accept:".jpg,.jpeg,.png",multiple:!1}),i.a.createElement(yn,null,i.a.createElement(jn,null,k?i.a.createElement(xn,{icon:he.d}):i.a.createElement(vn,{icon:he.d})),i.a.createElement(Sn,{placeholder:"EMAIL",value:a,onChange:function(e){c(e.currentTarget.value)},maxLength:80})),k?i.a.createElement(kn,null,"E-mail inv\xe1lido ou j\xe1 cadastrado"):null,e.emailExists?i.a.createElement(kn,null,"E-mail j\xe1 existe"):null,i.a.createElement(yn,null,i.a.createElement(jn,null,A?i.a.createElement(xn,{icon:he.j}):i.a.createElement(vn,{icon:he.j})),i.a.createElement(Sn,{placeholder:"NOME",value:d,onChange:function(e){s(e.currentTarget.value)},maxLength:16})),A?i.a.createElement(kn,null,"O nome deve conter entre 6 e 16 caracteres"):null,i.a.createElement(yn,null,i.a.createElement(jn,null,z?i.a.createElement(xn,{icon:he.e}):i.a.createElement(vn,{icon:he.e})),i.a.createElement(Sn,{placeholder:"SENHA",type:"password",value:b,onChange:function(e){v(e.currentTarget.value)},maxLength:12})),z?i.a.createElement(kn,null,"A senha deve conter letras e numeros e de 8 a 12 caracteres"):null,i.a.createElement(yn,null,i.a.createElement(jn,null,N?i.a.createElement(xn,{icon:he.e}):i.a.createElement(vn,{icon:he.e})),i.a.createElement(Sn,{placeholder:"CONFIRMAR SENHA",type:"password",value:h,onChange:function(e){O(e.currentTarget.value)},maxLength:12})),N?i.a.createElement(kn,null,"As senhas est\xe3o diferentes"):null,i.a.createElement(hn,{type:"submit",value:"CADASTRAR"}),i.a.createElement(On,{onClick:e.handleFormRegister},"VOLTAR")))};function Xa(){var e=Object(Oe.a)(["\n    color:  white;\n    font-size: 22px;\n"]);return Xa=function(){return e},e}function Ya(){var e=Object(Oe.a)(["\n    font-weight: bold;\n    font-size: 15px;\n    margin-top: 10px;\n    color: rgba(255,255,255,0.9);\n"]);return Ya=function(){return e},e}function er(){var e=Object(Oe.a)(["\n    height: ","px;\n    width: 350px;    \n    border-bottom: 1px solid white;\n    margin-bottom: 50px;\n"]);return er=function(){return e},e}function nr(){var e=Object(Oe.a)(["\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    background-image: linear-gradient(135deg, #EE82EE, #FF00FF, #BA55D3, #8A2BE2, #1E90FF, #0080ff, #0040ff, #0000ff);\n    overflow-x: auto;\n"]);return nr=function(){return e},e}var tr=je.a.div(nr()),ar=je.a.div(er(),(function(e){return e.size?e.size:"360"})),rr=je.a.div(Ya()),ir=je.a.p(Xa()),cr=function(){var e=Object(r.useState)(!1),n=Object(ie.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(428),o=Object(ie.a)(c,2),l=o[0],s=o[1],f=Object(u.c)((function(e){return e.user})),p=Object(u.c)((function(e){return e.talk})),b=function(){a(!t),s(428)};return i.a.createElement(tr,null,f.authenticated&&z()&&p.completed?i.a.createElement(d.a,{to:"/talk"}):null,f.loading||p.loading?i.a.createElement(i.a.Fragment,null,i.a.createElement(ir,null,"Carregando..."),i.a.createElement(oe.a,{type:"Oval",color:"white",height:60})):t?i.a.createElement(i.a.Fragment,null,i.a.createElement(ar,{size:l},i.a.createElement($a,{handleFormRegister:b,setLength:s,emailExists:f.registerError})),i.a.createElement(rr,null,"\xa9 GADev - GAChat - 2020")):i.a.createElement(i.a.Fragment,null,i.a.createElement(ar,null,i.a.createElement(Qa,{handleFormRegister:b,hasError:f.fail})),i.a.createElement(rr,null,"\xa9 GADev - GAChat - 2020")))};o.a.render(i.a.createElement(l.a,null,i.a.createElement(d.d,null,i.a.createElement(u.a,{store:te},i.a.createElement(d.b,{exact:!0,path:"/chat",component:cr}),i.a.createElement(re,{exact:!0,path:"/talk",component:Na})))),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.1b372f7d.chunk.js.map